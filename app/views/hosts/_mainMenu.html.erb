
<h1> Create Your Menu</h1>
<%= form_for :menu , :url => {:controller => 'hosts',:action =>"create"} do |f| %>


    <div class="form-group">

      <%= f.text_field :menuType,:placeholder =>'Menu Type' %>
    </div>
    <div class="form-group">

      <%= f.text_field :experience , :placeholder => 'Experience'%>
    </div>
    <div class="actions">
      <%= f.submit 'Create Menu', :class => 'btn btn-primary'%>
    </div>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal1">Upload Photos of Menu</button>
    <button type="button" class="btn btn-primary" data-toggle="modal"  id="previewPhoto" > Preview Photo</button>
    <div class="btn btn-info" onClick="addNewItem('itemsList');">Add an Item</div>
    <div id='itemsList'>
    </div>

<% end %>

<script>
    $("#previewPhoto").click( function() {
// send an AJAX request to fetch the data
        $.ajax({
            url:  "<%= '/hosts/previewAlbumMenu' %>", // Route to the Script Controller method
            type: "GET",
            dataType: "json",
            complete: function() {},

            success: function(data) {
                $('#media-contents').empty();
                var y='<ul class="row">';
               // $('#media-contents').append(' <ul class="row">');
                $.each(data.attachments, function(i, attachment) {
                    y = y+' <li class="col-lg-2 col-md-2 col-sm-3 col-xs-4">'+'<img src='+ attachment.avatar.url + ' height="100" width="100">'+'</li>';
                    //$('#media-contents').append(' <li class="col-lg-2 col-md-2 col-sm-3 col-xs-4">'+'<img src='+ attachment.avatar.url + ' height="100" width="100">'+'</li>');
                });
              //  $('#media-contents').append(' </ul>');
                y= y+'</ul>';
                $('#media-contents').append(y);
                jQuery("#previewModal").modal({
                    show: true

                });

            },
            error: function() {
                alert("Ajax error!")
            }
        });

        return false;
    });
</script>